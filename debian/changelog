needrestart (3.3.1-1) unstable; urgency=medium

  * update upstream to 3.3

 -- Matthias Hörmann <mhoermann@saltation.de>  Tue, 18 Sep 2018 11:37:00 +0200

needrestart (2.10.1-1) unstable; urgency=medium

  * set tty size to 50 when we running without one

 -- Maximilian Philipps <mphilipps@saltation.de>  Mon, 7 Nov 2016 17:19:00 +0100

needrestart (2.10-3) unstable; urgency=medium

  * fixed spelling in changelog, thank you Lintian

 -- Maximilian Philipps <mphilipps@saltation.de>  Mon, 7 Nov 2016 13:30:00 +0100

needrestart (2.10-2) unstable; urgency=medium

  * added dependency libintl-perl

 -- Maximilian Philipps <mphilipps@saltation.de>  Mon, 7 Nov 2016 11:46:00 +0100

needrestart (2.10-1) unstable; urgency=medium

  * New upstream release.

 -- Maximilian Philipps <mphilipps@saltation.de>  Mon, 7 Nov 2016 09:45:00 +0100

needrestart (2.6-1) unstable; urgency=high

  * New upstream release.
    - Don't notify system users via email.
      Closes: #812399
    - Don't restart services in interactive restart mode while debconf's
      noninteractive frontend is used.
      Closes: #803249
    - Fix broken detection of old mappings due to regression introduced in 2.3.
      Closes: #810970
  * Bump Standards-Version to 3.9.7 (no changes required).

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 18 Feb 2016 09:53:35 +0100

needrestart (2.5-1) unstable; urgency=medium

  * New upstream release.
    - Fix broken kernel detection due to syntax error.
      Closes: #810031

 -- Patrick Matthäi <pmatthaei@debian.org>  Fri, 08 Jan 2016 09:39:24 +0100

needrestart (2.4-1) unstable; urgency=medium

  * New upstream release.
    - Add override for systemd-logind due to another systemd regression.
      Closes: #800718
    - Fix grammar in hook scripts.
      Closes: #805980
  * Fix kernel detection on non x86* arch by adding a new depdency on xz-utils.
    Closes: #800720
  * Remove doubled line in long description.
    Closes: #799898
  * Remove libfile-slurp-perl dependency again. It is not required anymore.

 -- Patrick Matthäi <pmatthaei@debian.org>  Mon, 04 Jan 2016 12:00:42 +0100

needrestart (2.3-2) unstable; urgency=medium

  * Add missing dependency on libfile-slurp-perl.
    Closes: #799733

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 22 Sep 2015 10:05:37 +0200

needrestart (2.3-1) unstable; urgency=medium

  * New upstream release.
    - Processes using chroot were always detected as obsolete
      since missing binaries in /proc/PID/root/.
       Closes: #786584
    - Add lightdm to override.
      Closes: #791649
    - Do not try container detection in user mode.
      Closes: #791665
    - Remove unsupported HTML markups from notifications.
      Closes: #791664
    - Add a quiet option to drop any progress messages.
      Closes: #791708
    - Do not handle user services as system services.
      Closes: #792032
    - Prevent killing user services.
      Closes: #788380
  * Merge 1.2-8+deb8u1 changelog.
  * Extend long description.

 -- Patrick Matthäi <pmatthaei@debian.org>  Mon, 21 Sep 2015 14:19:11 +0200

needrestart (2.1-1) unstable; urgency=low

  * New upstream release.
    - Ignore apt-get.
      Closes: #784237
    - Add override for systemd's emergency.service and rescue.service.
      Closes: #784437
    - Ignore Oil Runtime Compiler's JIT files.
      Closes: #786374
    - Fix 2c037bc did broke the progressbar.
      Closes: #768124
    - Detect and suggest to restart containers (docker and LXC).
      Closes: #783181
    - Use /proc/$PID/root to scan for files fixing false positives on
      containers (i.e. LXC) using bind mounts.
      Closes: #783181
    - Skip scanning files with Interp/* if cwd is unknown.
      Closes: #779832
    - Add kernel hints option not requiring an acknowledgement by the user.
      Closes: #769811
    - Take version number comparing stuff from Dpkg::Version to compare kernel
      versions correctly.
      Closes: #781657
    - Improve restart query in interactive mode (stdio).
      Closes: #772859
  * Add needrestart-session to suggests.
  * Add again missing usr/share/polkit-1/actions directory.

 -- Patrick Matthäi <pmatthaei@debian.org>  Fri, 22 May 2015 19:18:00 +0200

needrestart (2.0-2) unstable; urgency=low

  * Merge 1.2-7~bpo70+1 and 1.2-8 changelog.
  * Uploading to unstable.

 -- Patrick Matthäi <pmatthaei@debian.org>  Sun, 26 Apr 2015 13:58:14 +0200

needrestart (2.0-1) experimental; urgency=low

  * New upstream release.
  * Merge 1.2-5, 1.2-6 and 1.2-7 changelog.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 27 Jan 2015 18:59:50 +0100

needrestart (1.2+git20141115-1) experimental; urgency=high

  * New upstream git snapshot.
    - Fixed division by zero, which causes the debconf prompt to hang, if no
      kernel image was found.
      Closes: #767370
    - Fixed Perl warnings, if no TTY is available.
      Closes: #768124
  * Merge 1.2-3 and 1.2-4 changelog.

 -- Patrick Matthäi <pmatthaei@debian.org>  Sat, 15 Nov 2014 22:02:01 +0100

needrestart (1.2+git20141031-1) experimental; urgency=low

  * New upstream git snapshot.
    - Add new /etc/needrestart/notify.d directory.
    - Add suggest on libnotify-bin.
    - Regression in list mode solved.
      Closes: #764042
    - conf.d directory added.
      Closes: #764043
    - Fixed display of running kernel.
      Closes: #764917
    - Don't blacklist services by default, but use a new override_rc option to
      don't restart some critical services by default.
      Closes: #763937
  * Merge 1.2-2~bpo70+1 changelog.
  * Use DEP5 copyright format.

 -- Patrick Matthäi <pmatthaei@debian.org>  Fri, 31 Oct 2014 18:40:58 +0100

needrestart (1.2-8+deb8u1) stable; urgency=low
  * Add patch 17-fix-interp-use-undef-in-chdir to fix warnings and errors if a
    process has not got a valid cwd.
    Closes: #779832
  * Add patch 18-fix-kernel-version-sorting to fix the Linux kernel version
    sorting, so that 4.0 is also considered to be higher than 3.19.x.
    Closes: #781657
  * Add patch 20-fix-perl-warning-dangling-kernel to fix Perl warnings while
    scanning dangling kernel symlinks.

 -- Patrick Matthäi <pmatthaei@debian.org>  Wed, 27 May 2015 19:21:57 +0200

needrestart (1.2-8) unstable; urgency=low

  * Add patch 16-fix-progressbar-regression to improve detection if invoked
    noninteractive and prevent debconf tried to be used in such cases. The
    reload action is set to list only if it was inter-active.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 24 Mar 2015 10:24:33 +0100

needrestart (1.2-7~bpo70+1) wheezy-backports; urgency=low

  * Rebuild for wheezy-backports.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 17 Mar 2015 15:38:23 +0100

needrestart (1.2-7) unstable; urgency=low

  * Add missing second patch 15-fix-progressbar-non-interactive to fix #768124.
    The patch was not completely added with 1.2-3.
    Closes: #768124

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 18 Dec 2014 21:44:56 +0100

needrestart (1.2-6) unstable; urgency=high

  * Add patch 10-respect-override-auto to not restart services with overrides
    in auto mode.
    Closes: #770937
  * Add patch 11-systemd-journald-workaround to add systemd-journald to
    override_rc as a workaround tue to #771122.
    Closes: #771254
  * Add patch 12-ignore-systemd-user-sessions to ignore user sessions.
    Closes: #771348
  * Add patch 13-falsepos-aio-fix to skip POSIX async I/O mappings to prevent
    false positive restarts.
  * Add patch 14-wpa_supplicant-override to ignore wpa_supplicant.

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 04 Dec 2014 14:07:10 +0100

needrestart (1.2-5) unstable; urgency=high

  * Add patch 08-fix-broken-debconf to fix a debconf hang up if no kernel image
    is available.
    Closes: #767370
  * Add patch 09-add-some-overrides to prevent automatic restarts of gettys and
    mythtv-backend.

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 20 Nov 2014 18:08:36 +0100

needrestart (1.2-4) unstable; urgency=low

  * Install missing conf.d directory.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 11 Nov 2014 23:56:34 +0100

needrestart (1.2-3) unstable; urgency=low

  * Add patch 01-add-conf.d-directory to support conf.d directory.
    Closes: #764043
  * Add patch 02-regression-commands-in-list-mode to fix a regression in list
    mode.
    Closes: #764042
  * Add patch 03-fix-empty-kernel-version-string to fix displaying the running
    kernel version.
    Closes: #764917
  * Add patch 04-prefer-services-over-rc.d to prevent restarting services
    twice.
  * Add patch 05-dont-blacklist-services which adds support for the new
    override_rc option and does not automatic restart services.
    Closes: #763937
  * Add patch 06-fix-version-number-string to fix the reported version number.
  * Add patch 07-fix-warnings-without-tty to fix Perl warnings, if no TTY is
    available.
    Closes: #768124

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 11 Nov 2014 23:48:14 +0100

needrestart (1.2-2~bpo70+1) wheezy-backports; urgency=low

  * Rebuild for wheezy-backports.

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 23 Oct 2014 11:18:32 +0200

needrestart (1.2-2) unstable; urgency=medium

  * Add missing dependency on libterm-readkey-perl.
    Closes: #763865
  * Bump Standards-Version to 3.9.6 (no changes required).

 -- Patrick Matthäi <pmatthaei@debian.org>  Sun, 12 Oct 2014 12:37:54 +0200

needrestart (1.2-1) unstable; urgency=medium

  * New upstream release.
    - Drop dependency on Term::ProgressBar::Simple.
      Closes: #761192
    - Add po-debconf build dependency for translations.
      Closes: #761068
    - Fix blacklist to match upgraded binaries (dpkg).
      Closes: #761346
    - Fix detection of unit names on systemd 215+.
      Closes: #762312
    - Handle restarts of systemd manager and sysv init using
      their specific commands.
      Closes: #762528
  * Use debian/tmp/ as DESTDIR.

 -- Patrick Matthäi <pmatthaei@debian.org>  Mon, 29 Sep 2014 18:44:34 +0200

needrestart (1.1-1) unstable; urgency=medium

  * New upstream release.
    - Ignore DHCP clients.
      Closes: #752111
  * Remove conffile /etc/needrestart/hook.d/30-pacman.
    Closes: #752114

 -- Patrick Matthäi <pmatthaei@debian.org>  Wed, 20 Aug 2014 09:32:10 +0200

needrestart (1.0-1) unstable; urgency=medium

  * New upstream release.
    - Add new dependency on libterm-progressbar-simple-perl.
    - Fix grammar errors and use a additional debconf template.
      Closes: #748652
    - Ignore device ID for unnamed devices due to broken implementation on
      btrfs.
      Closes: #750734
    - Skip scanning of needrestart process.
      Closes: #751877
    - Drop UI specific progress indicators, use Term::ProgressBar::Simple to
      minimize disruption of the terminal.
      Closes: #748758
    - Fix include path retrieval on python3.
      Closes: #750589
  * Add versioned dependency on dpkg to a version which supports status-logger.
    Closes: #751851

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 19 Jun 2014 15:41:50 +0200

needrestart (0.9-1) unstable; urgency=medium

  * New upstream release.
    - Removed dependency on binutils.
    - Fixed Perl warning.
      Closes: #746363
    - Read kernel version from x86 kernel boot header and handle uncompressed
      kernel images.
      Closes: #746550

 -- Patrick Matthäi <pmatthaei@debian.org>  Mon, 12 May 2014 10:05:05 +0200

needrestart (0.8-1) unstable; urgency=medium

  * New upstream release.
    - Fixes non-numeric argument on progress_prep call.
      Closes: #744961
    - Detect running on obsolete kernel.
      Closes: #745270
    - Add new dependencies on libmodule-scandeps-perl, libsort-naturally-perl
      and libproc-processtable-perl.
  * Sync debian/copyright.
  * Add dependency on binutils.
  * Package long description enhanced.

 -- Patrick Matthäi <pmatthaei@debian.org>  Mon, 28 Apr 2014 10:30:23 +0200

needrestart (0.7-1) unstable; urgency=medium

  * New upstream release.
    - Improved verbose option.
      Closes: #744000
    - Default UI option added.
      Closes: #744001
    - Apply blacklist while processing parent processes.
      Closes: #744002
  * Drop merged patch 01-makefile-fix.
  * Add reportbug script.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 15 Apr 2014 09:26:55 +0200

needrestart (0.6-1) unstable; urgency=medium

  * New upstream release.
    - Use systemd if available and print full restart commands in list mode.
      Closes: #731028
    - Drop merged patch 02-blacklist-lightdm.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 08 Apr 2014 09:48:05 +0200

needrestart (0.5-2) unstable; urgency=medium

  * Add upstream patch 02-blacklist-lightdm to blacklist lightdm.
    Closes: #735027

 -- Patrick Matthäi <pmatthaei@debian.org>  Thu, 03 Apr 2014 10:58:12 +0200

needrestart (0.5-1) unstable; urgency=high

  * New upstream release.
    - Prevent config file to break dpkg after removing needrestart.
      Closes: #732461
    - Handle LSB tags case insensitivly.
      Closes: #731165
  * Overwrite debian-watch-may-check-gpg-signature warning. There is no GPG
    signature available.

 -- Patrick Matthäi <pmatthaei@debian.org>  Fri, 03 Jan 2014 11:27:02 +0100

needrestart (0.4-1) unstable; urgency=low

  * New upstream release.
    - Fixed spelling errors.
      Closes: #723935
    - sudo excluded from list.
      Closes: #725937
    - Fixed return handling if readline is used as debconf frontent.
      Closes: #729997
  * Bump Standards-Version to 3.9.5 (no changes needed).
  * Don't explicitly request xz compression - dpkg 1.17 does this by default.

 -- Patrick Matthäi <pmatthaei@debian.org>  Mon, 02 Dec 2013 14:02:36 +0100

needrestart (0.3-1) unstable; urgency=low

  * New upstream release.
    - Fixed argument handling.
      Closes: #721809
    - Fixed missdetection of restart needing daemons and added a blacklist.
      Closes: #721810
    - Add new dependency libmodule-find-perl.
    - The manpage has been merged.
    - Add patch 01-makefile-fix to fix PREFIX and DESTDIR of the installed Perl
      modules.

 -- Patrick Matthäi <pmatthaei@debian.org>  Tue, 17 Sep 2013 10:33:19 +0200

needrestart (0.2-1) unstable; urgency=low

  * Initial release.
    Closes: #719673

 -- Patrick Matthäi <pmatthaei@debian.org>  Wed, 14 Aug 2013 10:18:14 +0200
